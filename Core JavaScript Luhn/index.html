<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewPort" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Valida No</title>
    <script>
        function checkLuhn(cardNo) {
            let nDigits = cardNo.length;

            let nSum = 0;
            let isSecond = false;
            for (let i = nDigits - 1; i >= 0; i--) {

                let d = cardNo[i].charCodeAt() - '0'.charCodeAt();

                if (isSecond == true)
                    d = d * 2;
                    
                nSum += parseInt(d / 10, 10);
                nSum += d % 10;

                isSecond = !isSecond;
            }
            return (nSum % 10 == 0);
        }

        let cardNo = "79927398713";
        if (checkLuhn(cardNo))
            document.write("This is a valid card");
        else
            document.write("This is not a valid card");
    </script>
</head>

<body>
    <!-- <input type="text" onkeyup="update(this.value);" /><br />
    <span style="color:red;" id="valid">card fails luhn test</span> -->
</body>

</html>